<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="The work and thoughts of a programmer">

    <title>Music Generation Using Markov Chains - Ashwin Madavan</title>

    <link rel="canonical" href="http://ashwin153.github.io/2014/11/20/music/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Ashwin Madavan</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                
                <li>
                    <a href="/about/">About</a>
                </li>
                
                <li>
                    <a href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <!-- Post Header -->
<header class="intro-header" style="background-image: url('/img/music-bg.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Music Generation Using Markov Chains</h1>
                    
                    <span class="meta">Posted by Ashwin Madavan on November 20, 2014</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

				<p>Markov chains are “random processes that undergo transitions from one state to another on a given state space.” (Wikipedia). Markov chains must be “memoryless”; in other words, the probability distribution of their next state only depends on their current state and not on the states that preceded it. I developed a Java implementation of a Markov Chain using a hash map that associates an event (prefix) with a list of possible outcomes (suffixes).</p>

<p>The full code and documentation is available on <a href="https://github.com/ashwin153/cs-314h/tree/master/assignments/prog2">Github</a>.</p>

<h1 id="random-writing">Random Writing</h1>
<p>In the case of text, events are represented as character strings of length k. Each occurence of every character string of length k is mapped to the character string of length k that immediately follows it (note that the first k-1 characters of the prefix and suffix are the same; the only difference is the last character). This process continues until the program consumes the entire input file. The program then randomly selects one of the prefix events in the mapping. It randomly selects one of the associated “suffix” events (suffix events that appear more often after a prefix have a greater probability of being selected), outputs the unique kth character, and sets the new seed as the suffix event. It then repeats this process until an output of character string of suitable size has been created.</p>

<h1 id="random-music">Random Music</h1>
<p>I adapted my text-based implementation of Markov Chains to handle musical MIDI files as well. MIDI files contain information about each note played by each instrument in a musical piece. In the case of music, events are represented as all the notes played by all the instruments over k timesteps (length of timestep varies from song to song). The program consumes the input file and uses it to generate a completely new song. This new song will share many of the same chord progressions and note patterns, but it is randomized and original. One of the most challenging aspects of this project was ensuring that the music stayed on beat. To do this, I added small (almost) inaudible silences between notes that shift the beat over slightly to ensure that the song stays in meter.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Artist</th>
      <th style="text-align: left">Song</th>
      <th style="text-align: center">k</th>
      <th style="text-align: center">Link</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Skrillex</td>
      <td style="text-align: left">Scary Monsters</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">http://goo.gl/8B8fHu</td>
    </tr>
    <tr>
      <td style="text-align: left">Skrillex</td>
      <td style="text-align: left">Scary Monsters</td>
      <td style="text-align: center">4</td>
      <td style="text-align: center">http://goo.gl/TrIy5m</td>
    </tr>
    <tr>
      <td style="text-align: left">Skrillex</td>
      <td style="text-align: left">Scary Monsters</td>
      <td style="text-align: center">8</td>
      <td style="text-align: center">http://goo.gl/GpYXAf</td>
    </tr>
    <tr>
      <td style="text-align: left">Led Zeppelin</td>
      <td style="text-align: left">Stairway to Heaven</td>
      <td style="text-align: center">8</td>
      <td style="text-align: center">http://goo.gl/n627J1</td>
    </tr>
    <tr>
      <td style="text-align: left">Train</td>
      <td style="text-align: left">Hey Soul Sister</td>
      <td style="text-align: center">8</td>
      <td style="text-align: center">http://goo.gl/74D1Up</td>
    </tr>
  </tbody>
</table>

<h1 id="future-work-random-images">Future Work: Random Images</h1>
<p>Another application of Markov Chains is in image reconstruction. By using the probability distribution of the colors of different pixels, it is possible to reconstruct images while maintaining its original artistic style.</p>

<p>Cover photograph from <a href="http://blog.funeralone.com/funeralone-products/life-tributes/funeral-songs/">Funer Alone</a></p>


                <hr>

                <ul class="pager">
                    
                    
                    <li class="next">
                        <a href="/2015/04/19/pacman/" data-toggle="tooltip" data-placement="top" title="PacMan: Recreating the Arcade Classic">Next Post &rarr;</a>
                    </li>
                    
                </ul>

            </div>
        </div>
    </div>
</article>

<hr>


    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://www.facebook.com/ashwin.madavan">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://github.com/ashwin153">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">Copyright &copy; Ashwin Madavan 2015</p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.min.js "></script>


</body>

</html>
